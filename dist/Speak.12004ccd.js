import{w as n,a as i}from"./chunks/runtime-dom.esm-bundler.64df8cb0.js";import{_ as o}from"./chunks/_plugin-vue_export-helper.1e5d64a6.js";import{c as l,a as c,r as u,n as d,o as p,b as f,t as h}from"./chunks/runtime-core.esm-bundler.49a662ea.js";const k={props:{text:{type:String,required:!0},placeholder:{type:String,required:!1},lang:{type:String,default:"de-CH"},fallback:{type:String,required:!0},focus:{type:Boolean,default:!1}},data(){return{utter:null}},computed:{canSpeak(){return Boolean(this.utter)},classes(){return{"focus-within":this.focus}},tabindex(){return this.focus?"0":void 0}},mounted(){const t=speechSynthesis?.getVoices().filter(({lang:e})=>e.startsWith(this.lang.split("-")[0])).sort(e=>e===this.lang?-1:1);if(t?.[0]){const e=new SpeechSynthesisUtterance(this.text);e.lang=t[0].lang,e.voice=t[0],this.utter=e}},methods:{speak(){this.canSpeak?speechSynthesis.speak(this.utter):new Audio(this.fallback).play()}}},g=["tabindex"];function m(t,e,r,S,y,s){return p(),l("span",{class:d(s.classes)},[c("span",{class:"touch-manipulation font-light text-action-fg cursor-pointer",tabindex:s.tabindex,onClick:e[0]||(e[0]=(...a)=>s.speak&&s.speak(...a)),onKeydown:e[1]||(e[1]=n(i((...a)=>s.speak&&s.speak(...a),["prevent","exact"]),["enter"]))},[u(t.$slots,"default",{},()=>[f(h(r.placeholder),1)])],40,g)],2)}const _=o(k,[["render",m]]);export{_ as default};

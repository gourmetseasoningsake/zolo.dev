let l=[],o=(f,i)=>{let n=[],t={lc:0,l:i||0,value:f,set(s){t.value!==s&&(t.value=s,t.notify())},get(){return t.lc||t.listen(()=>{})(),t.value},notify(s){let u=!l.length;for(let e=0;e<n.length;e+=2)l.push(n[e],t.value,s,n[e+1]);if(u){for(let e=0;e<l.length;e+=4){let a=!1;for(let r=e+7;r<l.length;r+=4)if(l[r]<l[e+3]){a=!0;break}a?l.push(l[e],l[e+1],l[e+2],l[e+3]):l[e](l[e+1],l[e+2])}l.length=0}},listen(s,u){return t.lc=n.push(s,u||t.l)/2,()=>{let e=n.indexOf(s);~e&&(n.splice(e,2),t.lc--,t.lc||t.off())}},subscribe(s,u){let e=t.listen(s,u);return s(t.value),e},off(){}};return t},v=(f={})=>{let i=o(f);return i.setKey=function(n,t){typeof t>"u"?n in i.value&&(i.value={...i.value},delete i.value[n],i.notify(n)):i.value[n]!==t&&(i.value={...i.value,[n]:t},i.notify(n))},i};const p={sentinelHeader:!0,stateNavApp:null},c=v(p);export{o as a,v as m,c as s};
